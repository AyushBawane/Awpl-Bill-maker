
// start of new file
ProductName = ["Free You ANION SANITARY PAD","Genodoc Wash","Veindoc Oil","H Doc Hand Sanitizer","Ayush Kwath","Joint Curator Oil","EXE PANCH TULSI OIL","EXE JC OINT","Herbal Green Tea","ADIDOC Drop","Triphala Ras","Coughdoc Ras","EXE Herbal Mehandi","Prodoc","Exe Wheat Grass Powder","EXE B-TON OINT","VIRALDOC","Kidgdoc","Aloevera Juice","Prassdoc","Alrgydoc Ras","Braindoc Ras","GYNEDOC","Diabodoc Ras","Livodoc","IMMUNODOC","FEVODOC PRAVAHI KWATH","ORTHODOC PRAVAHI KWATH","Cardiodoc","Thunder Blast","Pilodoc Ras","Stondoc","THYDOC PRAVAHI KWATH","Chlorodoc Ras","Obeodoc","Exe Alovera Syrup","Exe Herbal Handwash","Germidoc Spray","Exe TSDoc Toilet Seat Spray","Exe FVDoc Oint","Exe C Comfort Oil","EXE ALOEVERA CUCUMBER CREAM","EXE HERBAL FACE WASH","EXE HERBAL FACE PACK CREAM","EXE HERBAL FACE SCRUB CREAM","EXE ALOEVERA SAFFRON OINT","EXE HEAL DOC CREAM","EXE HAIR CLEANSER","HAIR DOC","EXE HAIR SHINE OINT","DENTODOC Dental Cream","FENNELDOC Drop","Immunity Drop","DIGIDOC Powder","Giloy Capsule","STEVIADOC Drop","Giloy Juice","FITDOC Powder","CURCIDOC Drop","G-COFFEEDOC","BERRYDOC Capsule","CURCIDOC Capsule","MORIDOC Capsule","OMEGADOC Capsule","COW-C-DOC Capsule","SPIRADOC Capsule","Noni Juice","SEABUCKDOC Juice","VITADOC Capsule","SLIMDOC Powder","BERRYDOC Juice","HEIGHTDOC Powder","MASSDOC Powder","MUSCLEDOC powder","EXE Golden Milk Powder","EXE Ginseng Tablet","EXE Ashwagandha Tablet","EYEDOC DROP (Pack of 3","HYPCARE CAPSULES","Eco Arogyam Tea","SUPERVO RICE BRAN OIL","ZINC TABLETS","VITAMIN B12 TABLET","VITAMIN D2 TABLET","GREEN COFFEE BEAN EXTRACT CAPSULE","ARJUN EXTRACT CAPSULE","GREEN TEA EXTRACT CAPSULE","TESTOFAST CAPSULE","SHOTS 30 (Antioxidant Booster)","Power Flush Toilet Cleaner","Lim Fresh Dish Wash","EASY SWEEP","Toshine Detergent Powder","TOSHINE LIQUID WASH","VEDIK AGRO- ECO HARIYALI","VEDIK AGRO- PGPR","VEDIK AGRO-AGRO 90","VEDIK AGRO- Bhuvita","BATHVEDA BEAUTY CREAM BAR","Bathveda Glycerin & Natural Oil Bar","Neem Tulsi Soap (Pack of 3)"];

productImage =["wellness/sanitary-pad.jpg","wellness/gino-doc.jpg","wellness/veindoc.jpg","wellness/ehe-h-doc.jpg","wellness/ayush-kwath-powder.jpg","wellness/Joint-Curator-Oil.jpg","wellness/Panch-Tulsi.jpg","wellness/jc-gel.jpg","wellness/Herbal-Tea.jpg","wellness/adidoc.jpg","wellness/triphala-ras.jpg","wellness/coughdoc.jpg","wellness/exe-herbal-mehandi.jpg","wellness/Prodoc.jpg","wellness/exe-wheet-grass.jpg","wellness/bton-gel.jpg","wellness/VIRALDOC.jpg","wellness/Kidgdog.jpg","wellness/Aloevera.jpg","wellness/prassdoc.jpg","wellness/alrgydoc.jpg","wellness/braindoc.jpg","wellness/Gynedoc-rasd.jpg","wellness/Diabodoc-box.jpg","wellness/Livodoc.jpg","wellness/IMMUNODOC.jpg","wellness/FEVOODOC.jpg","wellness/Orthodoc.jpg","wellness/cardiodoc-ras.jpg","wellness/THUNDER.jpg","wellness/Pilodoc.jpg","wellness/Stondoc.jpg","wellness/Thyrodoc.jpg","wellness/Chlorodoc.jpg","wellness/Obeodoc.jpg","wellness/Aloevera_syrup.jpg","wellness/EXE-Herbal-Hand-Wash.jpg","wellness/Germidoc-Spray.jpg","wellness/EXE-TSDoc-Toilet-Seat-Spray.jpg","wellness/EXE-FVDOC-Oint-Fruit-N-Veggie-Wash.jpg","wellness/EXE-C-COMFORT-OIL.jpg","beauty/aloevera-cucumber-cream.jpg","beauty/exe-herbal-facewash.jpg","beauty/herbal-face-pack.jpg","beauty/herbal-face-scrub.jpg","beauty/aloevera-saffron-gel.jpg","beauty/heal-doc-cream.jpg","hair/exe-hair-cleanger.jpg","hair/Hair-Doc.jpg","hair/exe-hair-c.jpg","oral/Dento-Doc.jpg","food/FENNELDOC-DROP.jpg","food/immunity-drop.jpg","food/DIGIDOC-POWDER.jpg","food/giloy-juice.jpg","food/STEVIADOC-DROP.jpg","food/giloy-juice.jpg","food/FITDOC-POWDER.jpg","food/CURCIDOC-CAPSULE.jpg","food/G-COFFEEDOC.jpg","food/BERRYDOC-CAPSULE.jpg","food/CURCIDOC-CAPSULE.jpg","food/MORIDOC.jpg","food/OMEGADOC.jpg","food/COW-C-DOC.jpg","food/SPIRADOC-CAPSULE.jpg","food/Noni-Juice.jpg","food/SEABUCKDOC.jpg","food/VITADOC.jpg","food/SLIMDOC-POWDER.jpg","food/BERRYDOC-JUICE.jpg","food/HEIGHTDOC-POWDER.jpg","food/MASSDOC-POWDER.jpg","food/MUSCLEDOC.jpg","food/EXE-Golden-Milk-Powder.jpg","food/EXE-Ginseng-Tablet.jpg","food/EXE-Ashwagandha-Tablet.jpg","wellness/eyedoc-drop.jpg","wellness/hypcare-capsule.jpg","food/eco-arogyam-tea.jpg","food/rice-bran-oil.jpg","food/zink-tablet.jpg","food/vitamin-b12.jpg","food/vitamin-d2.jpg","food/AWPL-GREEN-COFFIE.jpg","food/ARJUN-EXTRACT-CAPSULE.jpg","food/GREEN-TEA-EXTRACT-CAP.jpg","food/testofast-Cap.jpg","food/shots-30-box.jpg","home/power-flush-toilet-cleaner.jpg","home/limfresh-dish-wash.jpg","home/easy-sweep.jpg","home/toshine-detergent-powder.jpg","home/toshine-liquid-wash.jpg","agri/eco-hariyali.jpg","agri/pgpr.jpg","agri/agro-90.jpg","agri/bhuvita.jpg","beauty/bathveda-cream-bar.jpg","beauty/bathveda.jpg","beauty/neem-tulsi-soap.jpg"];

productMRP = ["138","238","263","250","289","394","414","427","444","450","461","495","474","641","624","714","706","816","1001","1142","1282","1361","1474","1492","1528","2116","2195","2299","2314","2292","2476","2582","2509","2509","2627","1001","194","222","222","333","119","239","248","251","251","259","268","242","242","283","252","231.00","223.00","239.00","234.00","407.00","434.00","486.00","574.00","633.00","1121.00","1125.00","1137.00","1140.00","1141.00","1146.00","1177.00","1278.00","1521.00","1660.00","1992.00","3203.00","4034.00","5238.00","1187","930","921","1320","1026.00","149","295.00","399.00","629.00","813.00","1212.00 ","1258.00","1359.00","516.00","5159.00","99.00","106.00","111.00 ","169.00","230.00","1154.00","581.00 ","551.00","551.00","210.00 ","213.00","180.00 "];
productDP = ["115","198","219","232","241","328","345","356","370","375","384","412","395","534","520","595","588","680","834","952","1068","1135","1229","1243","1273","1763","1829","1916","1928","1910","2063","2152","2091","2091","2189","834","162","185","185","277","99","199","207","209","209","216","223","202","202","236","210","193","186","199","195","339","362","405","478","527","934","937","948","950","951","955","981","1065","1268","1383","1660","2669","1099","3362","4365","879","775","1135","789"," 124","229","309","484","625","932","974","1045","1935","4299","83.00"," 89.00"," 89.00","135.00","184.00","962.00","484.00","459.00","459.00","167.00","169.00","150.00"];
productSP = ["0.50","1","1","0.25","1","2","2","2","2","2","2","2","2","3","3","3","3","4","5","6","7","7","8","8","8","12","12","13","13","13","13","14","13","13","15","5","0.5","0.75","0.75","0.75","0.5","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","3","3","6","6","6","6","6","6","6","7","8","8","11","17","20","25","5","5","5","5","5","0.25","0.5","2","3","4","5","6","6","12","27","0.25","0.25","0.25"," 0.25","0.5","6","3","2","2","0.25","0.25","0.25"];
// console.log(productMRP.length);
// console.log(productDP.length);
// console.log(productSP.length);
// // console.log(ProductName.length);

  var products = document.getElementById('productsCard');
for (var i = 0; i < ProductName.length; i++) {
  var productsinner = document.getElementById('productsCard').innerHTML;
  products.innerHTML = productsinner + `<div class="card m-2 mainCard" style="width: 18rem;">
        <img src="${productImage[i]}" class="card-img-top" alt="...">
        <div class="card-body text-center">
        <h5 class="card-title">${ProductName[i]}</h5>
          <div class="card-text m-0 ">
            <p class="m-0 ">
              MRP-rate : <span class="mrp-rate">${productMRP[i]}</span>
            </p>
            <p class="m-0 ">
              DP-rate : <span class="dp-rate">${productDP[i]}</span>
            </p>
            <p class="m-0 mb-2 ">
              SP : <span class="sp-count">${productSP[i]}</span>
            </p>
          </div>
          <button type="button" id="${i}" onClick="getId()" class="btn itemadd btn-primary">Add Item </button>
          <div class="alert itemCount d-inline p-1 m-0 alert-primary">0</div>
        </div>
        
      </div>`;
  // console.log(ProductName[i]);
}

// end of new file
  
var clickedId;
var thismrp;
var thisdp;
var thissp;
var thistitle;
var thiscard;
function getId() {
  clickedId = parseInt(event.target.id);
  //  console.log(clickedId);
  thiscard = document.getElementsByClassName('mainCard')[clickedId].classList.add('border-primary');
  thismrp = parseInt(document.getElementsByClassName('mrp-rate')[clickedId].innerText);
  thisdp = parseInt(document.getElementsByClassName('dp-rate')[clickedId].innerText);
  thissp = parseFloat(document.getElementsByClassName('sp-count')[clickedId].innerText);
  thistitle = document.getElementsByClassName('card-title')[clickedId].innerText.toUpperCase();
  thisItemCount = document.getElementsByClassName('itemCount')[clickedId].innerText;
  var itemCountPlus = parseInt(thisItemCount) + 1;
  clickedItemCount = document.getElementsByClassName('itemCount')[clickedId].innerText = itemCountPlus;
   
  // console.log(thisItemCount);
  
 

  var content = `<div class="row px-1 ">
  <div class="col-6 bg-light border py-2">${thistitle}</div>
  <div class="col-2 mrpval bg-light border py-2">${thismrp}</div>
  <div class="col-2 dpval bg-light border py-2">${thisdp}</div>
  <div class="col-2 spval bg-light border py-2">${thissp}</div>
  </div>`;
  var appending = document.querySelector('.modal-dynamic').innerHTML = document.querySelector('.modal-dynamic').innerHTML + content;


}

var mrparr = [];
var dparr = [];
var sparr = [];
var gettotal = document.getElementById('printBill');
gettotal.addEventListener('click', ()=> {
  var getmrp = document.getElementsByClassName('mrpval');
  var getdp = document.getElementsByClassName('dpval');
  var getsp = document.getElementsByClassName('spval');
  for (var i = 0; i < getmrp.length; i++) {
    var mrppush = parseInt(getmrp[i].innerText);
    var dppush = parseInt(getdp[i].innerText);
    var sppush = parseFloat(getsp[i].innerText);
    // console.log(mrppush);
    mrparr.push(mrppush);
    dparr.push(dppush);
    sparr.push(sppush);
  }
  // console.log(mrparr);
//   thismrparr = document.getElementsByClassName('sp-count');
//   var arrp = document.getElementById('arrprint');
//   for (var i = 0; i < thismrparr.length; i++) {
//   // console.log(thismrparr[i].innerText);
//   var arrpin = document.getElementById('arrprint').innerText;
//   arrp.innerText = arrpin + `"${thismrparr[i].innerText}",`;
// }
  var totalmrp = mrparr.reduce((a, b)=> {
    return a + b;
  }, 0);
  var totaldp = dparr.reduce((a, b)=> {
    return a + b;
  }, 0);
  var totalsp = sparr.reduce((a, b)=> {
    return a + b;
  }, 0);
  // console.log(totalmrp);
  document.getElementById('mrpcalc').innerText = totalmrp;
  document.getElementById('dpcalc').innerText = totaldp;
  document.getElementById('spcalc').innerText = totalsp;
  mrparr = [];
  dparr = [];
  sparr = []; 
  
  var n = new Date();
  var y = n.getFullYear();
  var m = n.getMonth() + 1 ;
  var d = n.getDate(); 
  document.getElementById('date').innerHTML = d + "-" + m + "-" + y;
});

document.getElementById('printimg').addEventListener('click', ()=> {
  var node = document.getElementById('modal-content');
  domtoimage.toPng(node).then((dataUrl)=> {
    var image = new Image(); 
    image.src = dataUrl;
    downloadImg(dataUrl, "bill.png");
  }).catch((error)=> {
    alert("cannot print bill..! take screenshot!!");
  });
});
function downloadImg(url , name) {
  var a = document.createElement('a');
  a.download = name;
  a.href = url;
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
  delete a;
}


const searchBox = document.querySelector('.searchBox');
searchBox.addEventListener('input', ()=> {
  let searchVal = searchBox.value.toLowerCase();
  // console.log(searchVal);
  let card = document.getElementsByClassName('mainCard');
  Array.from(card).forEach((element)=> {
    let cardHead = element.getElementsByTagName('h5')[0].innerText.toLowerCase();
    // console.log(cardHead.innerText);
    const check = cardHead.includes(searchVal);
    if (check) {
      element.style.display = "block";
    } else {
      element.style.display = "none";
    }
  });
});

var allP = document.querySelector('#allProducts');
allP.addEventListener('click', function() {
  console.log("okay");
  document.querySelector('.wellnessProducts').style.display = "block";
  document.querySelector('.beautyProducts').style.display = "block";
  document.querySelector('.hairProducts').style.display = "block";
  document.querySelector('.oralProducts').style.display = "block";
  document.querySelector('.foodProducts').style.display = "block";
});

// var wellnessP = document.querySelector('#wellnessP');
// wellnessP.addEventListener('click', function() {
//   console.log("okay");
//   document.querySelector('.wellnessProducts').style.display = "block";
//   document.querySelector('.beautyProducts').style.display = "none";
//   document.querySelector('.hairProducts').style.display = "none";
//   document.querySelector('.oralProducts').style.display = "none";
//   document.querySelector('.foodProducts').style.display = "none";
// });

// var beautyP = document.querySelector('#beautyP');
// beautyP.addEventListener('click', function() {
//   console.log("okay");
//   document.querySelector('.wellnessProducts').style.display = "none";
//   document.querySelector('.beautyProducts').style.display = "block";
//   document.querySelector('.hairProducts').style.display = "none";
//   document.querySelector('.oralProducts').style.display = "none";
//   document.querySelector('.foodProducts').style.display = "none";
// });
// var hairP = document.querySelector('#hairP');
// hairP.addEventListener('click', function() {
//   console.log("okay");
//   document.querySelector('.wellnessProducts').style.display = "none";
//   document.querySelector('.beautyProducts').style.display = "none";
//   document.querySelector('.hairProducts').style.display = "block";
//   document.querySelector('.oralProducts').style.display = "none";
//   document.querySelector('.foodProducts').style.display = "none";
// });

// var oralP = document.querySelector('#oralP');
// oralP.addEventListener('click', function() {
//   console.log("okay");
//   document.querySelector('.wellnessProducts').style.display = "none";
//   document.querySelector('.beautyProducts').style.display = "none";
//   document.querySelector('.hairProducts').style.display = "none";
//   document.querySelector('.oralProducts').style.display = "block";
//   document.querySelector('.foodProducts').style.display = "none";
// });

// var foodP = document.querySelector('#foodP');
// foodP.addEventListener('click', function() {
//   console.log("okay");
//   document.querySelector('.wellnessProducts').style.display = "none";
//   document.querySelector('.beautyProducts').style.display = "none";
//   document.querySelector('.hairProducts').style.display = "none";
//   document.querySelector('.oralProducts').style.display = "none";
//   document.querySelector('.foodProducts').style.display = "block";
// });

 